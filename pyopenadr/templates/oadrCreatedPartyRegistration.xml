<?xml version="1.0" encoding="utf-8"?>
<oadrPayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://openadr.org/oadr-2.0b/2012/07" xsi:schemaLocation="http://openadr.org/oadr-2.0b/2012/07 oadr_20b.xsd">
  <oadrSignedObject>
    <oadrCreatedPartyRegistration ei:schemaVersion="2.0b" xmlns:ei="http://docs.oasis-open.org/ns/energyinterop/201110">
      <ei:eiResponse>
        <ei:responseCode>200</ei:responseCode>
        <ei:responseDescription>OK</ei:responseDescription>
        <requestID xmlns="http://docs.oasis-open.org/ns/energyinterop/201110/payloads">{{ request_id }}</requestID>
      </ei:eiResponse>
      {% if registration_id %}
      <ei:registrationID>{{ registration_id }}</ei:registrationID>
      {% else %}
      <ei:registrationID />
      {% endif %}

      {% if ven_id %}
      <ei:venID>{{ ven_id }}</ei:venID>
      {% else %}
      <ei:venID />
      {% endif %}

      <ei:vtnID>{{ vtn_id }}</ei:vtnID>
      <oadrProfiles>
      {% for profile in profiles %}
        <oadrProfile>
          <oadrProfileName>{{ profile.profile_name }}</oadrProfileName>
          <oadrTransports>
            {% for transport in profile.transports %}
            <oadrTransport>
              <oadrTransportName>simpleHttp</oadrTransportName>
            </oadrTransport>
            {% endfor %}
          </oadrTransports>
        </oadrProfile>
      {% endfor %}
      </oadrProfiles>
      {% if requested_oadr_poll_freq %}
      <oadrRequestedOadrPollFreq>
        <duration xmlns="urn:ietf:params:xml:ns:icalendar-2.0">{{ requested_oadr_poll_freq|timedeltaformat }}</duration>
      </oadrRequestedOadrPollFreq>
      {% endif %}
    </oadrCreatedPartyRegistration>
  </oadrSignedObject>
</oadrPayload>
